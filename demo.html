<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Support Widget - Demo</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 40px 20px;
    }

    .demo-container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .demo-header {
      text-align: center;
      color: white;
      margin-bottom: 60px;
    }

    .demo-header h1 {
      font-size: 48px;
      margin-bottom: 16px;
      font-weight: 700;
    }

    .demo-header p {
      font-size: 20px;
      opacity: 0.9;
    }

    .demo-content {
      background: white;
      border-radius: 20px;
      padding: 60px;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    }

    .demo-section {
      margin-bottom: 40px;
    }

    .demo-section h2 {
      font-size: 28px;
      color: #1F2937;
      margin-bottom: 20px;
    }

    .demo-section p {
      font-size: 16px;
      line-height: 1.6;
      color: #6B7280;
      margin-bottom: 16px;
    }

    .demo-features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 24px;
      margin-top: 30px;
    }

    .feature-card {
      padding: 24px;
      background: #F9FAFB;
      border-radius: 12px;
      border: 2px solid #E5E7EB;
      transition: all 0.3s ease;
    }

    .feature-card:hover {
      border-color: #667eea;
      transform: translateY(-4px);
    }

    .feature-card h3 {
      font-size: 18px;
      color: #667eea;
      margin-bottom: 12px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .feature-card p {
      font-size: 14px;
      margin: 0;
    }

    .demo-code {
      background: #1F2937;
      color: #F9FAFB;
      padding: 24px;
      border-radius: 12px;
      overflow-x: auto;
      margin-top: 20px;
    }

    .demo-code code {
      font-family: 'Monaco', 'Menlo', monospace;
      font-size: 14px;
      line-height: 1.6;
    }

    .config-panel {
      background: #F9FAFB;
      padding: 24px;
      border-radius: 12px;
      margin-top: 20px;
    }

    .config-row {
      display: flex;
      gap: 16px;
      margin-bottom: 16px;
      align-items: center;
    }

    .config-row label {
      font-size: 14px;
      font-weight: 500;
      color: #374151;
      min-width: 120px;
    }

    .config-row input,
    .config-row select {
      flex: 1;
      padding: 10px 14px;
      border: 1px solid #D1D5DB;
      border-radius: 8px;
      font-size: 14px;
      font-family: inherit;
    }

    .config-row input:focus,
    .config-row select:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .demo-button {
      background: #667eea;
      color: white;
      border: none;
      padding: 12px 32px;
      border-radius: 8px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-block;
      margin-top: 16px;
    }

    .demo-button:hover {
      background: #5a67d8;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
    }

    .status-message {
      padding: 12px 20px;
      border-radius: 8px;
      margin-top: 16px;
      font-size: 14px;
      display: none;
    }

    .status-message.success {
      background: #D1FAE5;
      color: #065F46;
      border: 1px solid #6EE7B7;
    }

    .status-message.error {
      background: #FEE2E2;
      color: #991B1B;
      border: 1px solid #FCA5A5;
    }

    @media (max-width: 768px) {
      .demo-content {
        padding: 30px 20px;
      }

      .demo-header h1 {
        font-size: 32px;
      }

      .config-row {
        flex-direction: column;
        align-items: flex-start;
      }

      .config-row label {
        min-width: auto;
      }
    }
  </style>
</head>
<body>
  <div class="demo-container">
    <div class="demo-header">
      <h1>ü§ñ AI Support Widget</h1>
      <p>–í—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –≤–∏–¥–∂–µ—Ç —á–∞—Ç–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ —Å –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω—ã–º –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–æ–º</p>
    </div>

    <div class="demo-content">
      <div class="demo-section">
        <h2>–û –≤–∏–¥–∂–µ—Ç–µ</h2>
        <p>
          –≠—Ç–æ –≤—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π –≤–∏–¥–∂–µ—Ç —á–∞—Ç–∞ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∫–ª–∏–µ–Ω—Ç–æ–≤ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞. 
          –í–∏–¥–∂–µ—Ç –ª–µ–≥–∫–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –ª—é–±–æ–π —Å–∞–π—Ç –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç real-time –æ–±—â–µ–Ω–∏–µ —Å AI –±–æ—Ç–æ–º –∏–ª–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞–º–∏.
        </p>

        <div class="demo-features">
          <div class="feature-card">
            <h3>üí¨ Real-time —á–∞—Ç</h3>
            <p>–ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Å–≤—è–∑—å —á–µ—Ä–µ–∑ WebSocket</p>
          </div>
          <div class="feature-card">
            <h3>ü§ñ AI –ø–æ–¥–¥–µ—Ä–∂–∫–∞</h3>
            <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç AI</p>
          </div>
          <div class="feature-card">
            <h3>üë§ –û–ø–µ—Ä–∞—Ç–æ—Ä—ã</h3>
            <p>–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –∂–∏–≤–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞</p>
          </div>
          <div class="feature-card">
            <h3>üé® –ù–∞—Å—Ç—Ä–æ–π–∫–∞</h3>
            <p>–ì–∏–±–∫–∞—è –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –¥–∏–∑–∞–π–Ω–∞</p>
          </div>
        </div>
      </div>

      <div class="demo-section">
        <h2>–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∏–¥–∂–µ—Ç–∞</h2>
        <p>–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤–∏–¥–∂–µ—Ç –ø–æ–¥ –≤–∞—à–∏ –Ω—É–∂–¥—ã –∏ –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ–≥–æ –≤ –¥–µ–π—Å—Ç–≤–∏–∏</p>

        <div class="config-panel">
          <div class="config-row">
            <label>API Key:</label>
            <input type="text" id="apiKey" value="YOUR_API_KEY_HERE" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à API –∫–ª—é—á" />
          </div>
          <div class="config-row">
            <label>API URL:</label>
            <input type="text" id="apiUrl" value="http://localhost:3000" />
          </div>
          <div class="config-row">
            <label>–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>
            <input type="text" id="userName" value="–ì–æ—Å—Ç—å" />
          </div>
          <div class="config-row">
            <label>–û—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç:</label>
            <input type="color" id="primaryColor" value="#4F46E5" />
          </div>
          <div class="config-row">
            <label>–ü–æ–∑–∏—Ü–∏—è:</label>
            <select id="position">
              <option value="bottom-right">–°–Ω–∏–∑—É —Å–ø—Ä–∞–≤–∞</option>
              <option value="bottom-left">–°–Ω–∏–∑—É —Å–ª–µ–≤–∞</option>
            </select>
          </div>
          <div class="config-row">
            <label>–¢–µ–∫—Å—Ç –∫–Ω–æ–ø–∫–∏:</label>
            <input type="text" id="buttonText" value="–ü–æ–¥–¥–µ—Ä–∂–∫–∞" />
          </div>

          <button class="demo-button" onclick="reloadWidget()">–ü—Ä–∏–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
          <div id="status" class="status-message"></div>
        </div>
      </div>

      <div class="demo-section">
        <h2>–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞ –≤–∞—à–µ–º —Å–∞–π—Ç–µ</h2>
        <p>–î–æ–±–∞–≤—å—Ç–µ —ç—Ç–æ—Ç –∫–æ–¥ –Ω–∞ –≤–∞—à —Å–∞–π—Ç –ø–µ—Ä–µ–¥ –∑–∞–∫—Ä—ã–≤–∞—é—â–∏–º —Ç–µ–≥–æ–º <code>&lt;/body&gt;</code>:</p>
        
        <div class="demo-code">
          <code>&lt;!-- AI Support Widget --&gt;
&lt;script src="https://your-domain.com/widget.js"&gt;&lt;/script&gt;
&lt;script&gt;
  new AISupportWidget({
    apiKey: '–≤–∞—à-api-–∫–ª—é—á',
    apiUrl: 'https://your-api.com',
    wsUrl: 'https://your-api.com',
    userName: '–ì–æ—Å—Ç—å',
    primaryColor: '#4F46E5',
    position: 'bottom-right',
    buttonText: '–ü–æ–¥–¥–µ—Ä–∂–∫–∞'
  });
&lt;/script&gt;</code>
        </div>
      </div>

      <div class="demo-section">
        <h2>–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é</h2>
        <p><strong>1.</strong> –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ backend —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω: <code>npm run dev</code></p>
        <p><strong>2.</strong> API –∫–ª—é—á —É–∂–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ —à–∞–≥–∞</p>
        <p><strong>3.</strong> –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–Ω–æ–ø–∫—É –≤–∏–¥–∂–µ—Ç–∞ –≤ –ø—Ä–∞–≤–æ–º –Ω–∏–∂–Ω–µ–º —É–≥–ª—É üëâ</p>
        <p><strong>4.</strong> –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –¥–æ–∂–¥–∏—Ç–µ—Å—å –æ—Ç–≤–µ—Ç–∞ –æ—Ç AI –±–æ—Ç–∞</p>
        <p><strong>5.</strong> –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Ö</p>
      </div>
    </div>
  </div>

  <!-- Widget will be loaded here -->
  <script type="module">
    import AISupportWidget from '/src/widget.js';

    let widget = null;

    function initWidget() {
      const config = {
        apiKey: document.getElementById('apiKey').value,
        apiUrl: document.getElementById('apiUrl').value,
        wsUrl: document.getElementById('apiUrl').value,
        userName: document.getElementById('userName').value,
        primaryColor: document.getElementById('primaryColor').value,
        position: document.getElementById('position').value,
        buttonText: document.getElementById('buttonText').value
      };

      try {
        if (widget) {
          widget.destroy();
        }
        widget = new AISupportWidget(config);
        showStatus('–í–∏–¥–∂–µ—Ç —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω!', 'success');
      } catch (error) {
        showStatus('–û—à–∏–±–∫–∞: ' + error.message, 'error');
      }
    }

    function showStatus(message, type) {
      const status = document.getElementById('status');
      status.textContent = message;
      status.className = 'status-message ' + type;
      status.style.display = 'block';
      setTimeout(() => {
        status.style.display = 'none';
      }, 3000);
    }

    window.reloadWidget = function() {
      initWidget();
    };

    // Initialize on load
    initWidget();
  </script>
</body>
</html>
